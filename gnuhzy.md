---
timezone: UTC+8
---

# Gary Huang

**GitHub ID:** gnuhzy

**Telegram:** @gary hhh

## Self-introduction

小白～多多指教

## Notes

<!-- Content_START -->
# 2025-08-04

# 8.4

## 区块链基础概念

区块链特性：

- 不可篡改
- 公开透明、匿名
- 快速交易

区块链组成：

- **去中心化的网络和区块链**
    
    区块链将会有一条链来记录全部的信息，这条链将存在对应的去中心化网络中。 去中心化的网络，将由无数节点提供服务来维持网络运行。节点通过计算验证交易获得代币奖励。
    
- **维持网络运行的代币激励**
    
    去中心化的网络由无数节点提供服务来维持网络运行，这些操作统称为挖矿。维持这些服务的人一般称之为矿工。矿工们维持网络运行需要奖励，就像你工作需要工资，在区块链中对矿工的奖励一般是代币，你经常听说的燃料费（Gas Fee）就是矿工们的“工资”。 你使用这个网络进行交易、转账、铸造 NFT 等等，均需要支付代币。如果你没有代币又想使用这个区块链网络服务，则需要进行代币之间交换或者法币交换。
    

区块链生态系统的运行包含以下几个关键步骤：

1. **用户发起交易**：用户通过钱包应用发起转账、智能合约调用等操作
2. **交易广播**：交易信息被广播到整个网络中的各个节点
3. **节点验证**：网络中的矿工节点验证交易的合法性（余额是否足够、签名是否正确等）
4. **打包成块**：通过共识机制（如工作量证明），矿工将验证过的交易打包成新的区块
5. **链接上链**：新区块被添加到区块链上，更新全网的账本状态
6. **奖励发放**：成功打包区块的矿工获得代币奖励和交易手续费

## 以太坊概览

以太坊的核心创新在于 **智能合约（Smart Contracts）** 。智能合约是存储在区块链上的可执行代码，能够在满足预设条件时自动执行操作，无需人工干预。这一特性使得以太坊不仅是数字货币的载体，更是构建去中心化应用（Dapps）、去中心化金融（DeFi）、非同质化代币（NFT）等生态系统的基础设施。

以太坊生态：

以太坊的生态系统由多层架构组成，包括 **L1（主网）、L2（二层扩展解决方案）、侧链（Sidechains）** 等，共同支持高吞吐量和低费用的交易处理。

核心机制：它的核心价值在于通过代码实现无需信任的自动化规则（如智能合约），而这一切的背后依赖于三个关键机制：**账户系统、Gas 模型 和 以太坊虚拟机（EVM）**。

1. 账户系统：

**账户系统**包含私钥控制的**外部账户（EOA）**和智能合约代码控制的**合约账户（CA）**。

**外部账户（EOA）**由私钥和公钥组成，类似银行账户的密码和账号。私钥必须保密；公钥生成唯一地址（如`0xAbc...123`），可用于接收转账。

**合约账户（CA）**由代码驱动，不受私钥控制。部署智能合约（如NFT市场）时，区块链生成CA地址（如`0xDef...456`）。CA不能主动发起交易，只能通过EOA触发，自动执行合约逻辑。

1. Gas模型：交易的燃料费：

使用EOA发起交易（转账或操作合约）**需要支付Gas（燃料费）**。

Gas计算方式：

Gas费用 = **用量 × 单价**，类似打车：

- **Gas Limit（限额）**：最多愿意消耗的燃料量，如150,000单位。
- **Gas Price（单价）**：每单位Gas价格（Gwei计量，1 Gwei = 10^-9 ETH）。网络拥堵时价格上涨。

**总费用 = Gas Limit × Gas Price**

例：Gas Limit 150,000，Gas Price 100 Gwei，费用为0.015 ETH。若实际用120,000，剩余30,000 × 100 Gwei = 0.003 ETH退还。

Gas的两个目的：

- **激励矿工/验证者**：Gas Price越高，交易优先级越高。
- **防滥用**：防止恶意合约死循环消耗资源。

**EIP-1559升级后的Gas Price结构：**

原先Gas Price全给矿工，现拆分为：

- **基础费用（Base Fee）**：自动计算并销毁，促进ETH通缩。
- **小费（Tip）**：额外奖励，提高交易优先级。

1. 以太坊虚拟机：账户的执行器

EVM（Ethereum Virtual Machine）是 **以太坊的“大脑”**，是专门用来**运行智能合约的虚拟计算机**。它运行在每个节点上，确保整个网络在处理代码时，**结果都一致、可信任**。

**EVM 的核心特点：**

- **图灵完备**：就像真正的电脑一样，EVM 可以执行各种逻辑，比如 if 判断、循环等。
- **全球同步**：每个矿工/节点都会自己执行一遍合约代码，保证结果一样。
- **隔离安全**：EVM 把合约“关”在一个小房间里运行，不允许它乱访问用户的数据和网络，保护隐私和安全。

# 流程与类比

### [**1. 一般流程**](https://web3intern.xyz/zh/overview-of-ethereum/#_1-%E4%B8%80%E8%88%AC%E6%B5%81%E7%A8%8B)

1. **用户通过 EOA 发起交易**（如调用合约与 **CA** 交互，或者转账与其他用户的 **EOA** 交互）。
2. **交易附带 Gas 参数**，矿工 / 验证者选择打包。
3. **EVM 执行合约代码**，修改存储（如更新 NFT 归属）。
4. **Gas 费用按 Gas Limit × Gas Price 扣除**，保障资源合理使用。

### [**2. 相似类比**](https://web3intern.xyz/zh/overview-of-ethereum/#_2-%E7%9B%B8%E4%BC%BC%E7%B1%BB%E6%AF%94)

- **EOA = 个人钱包**：你用私钥“签名”来证明身份，可以主动发起任何交易
- **CA = 智能保险箱**：按照预设程序自动运行，只有满足条件才执行操作（如：收到正确密码后自动转账）
- **Gas = 计算资源费用**：
    - Gas Limit：你愿意支付的最大计算量
    - Gas Price：每单位计算的价格
    - 如果设置 1000 单位 ×10Gwei，实际用了 800 单位，退还 200 单位的费用
- **EVM = 全球共享计算机**：所有节点同时运行相同的程序，确保结果一致且可信


# 2025.07.30


<!-- Content_END -->
